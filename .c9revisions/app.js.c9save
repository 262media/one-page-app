{"ts":1354286782349,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var express = require('express'),\n\tengine = require('ejs-locals'),\n\tapp = express();\n\nexports.init = function(port) {\n\n\tapp.locals({\n\t\t_layoutFile: true\n\t})\n\t\n    app.configure(function(){\n    \tapp.set('views', __dirname + '/views');\n    \tapp.set('view engine', 'ejs');\n    \tapp.use(express.bodyParser());\n    \tapp.use(express.methodOverride());\n    \tapp.use(express.static(__dirname + '/static'));\n\t\tapp.use(express.cookieParser());\n\t\tapp.use(express.cookieSession({cookie:{path:'/',httpOnly:true,maxAge:null},secret:'skeletor'}));\n    \tapp.use(app.router);\n    \t//app.enable(\"jsonp callback\");\n    });\n\n\tapp.engine('ejs', engine);\n\t\n    app.configure('development', function(){\n\t   app.use(express.errorHandler({ dumpExceptions: true, showStack: true })); \n        // app.use(express.logger({ format: ':method :url' }));\n    });\n\n    app.configure('production', function(){\n\t   app.use(express.errorHandler()); \n    });\n\n\n    app.use(function(err, req, res, next){\n\t   res.render('500.ejs', { locals: { error: err },status: 500 });\t\n    });\n\t\n    server = app.listen(port);\n\n    console.log(\"Listening on port %d in %s mode\", server.address().port, app.settings.env);\n\n    return app;\n}"]],"start1":0,"start2":0,"length1":0,"length2":1188}]],"length":1188}
{"contributors":[],"silentsave":false,"ts":1354286838815,"patch":[[{"diffs":[[0,"tion(){\n    "],[-1,"\t"],[1,"    "],[0,"app.set('vie"]],"start1":181,"start2":181,"length1":25,"length2":28},{"diffs":[[0,"iews');\n    "],[-1,"\t"],[1,"    "],[0,"app.set('vie"]],"start1":229,"start2":229,"length1":25,"length2":28},{"diffs":[[0,"'ejs');\n    "],[1,"   "],[-1,"\t"],[1," "],[0,"app.use(expr"]],"start1":268,"start2":268,"length1":25,"length2":28},{"diffs":[[0,"yParser());\n    "],[-1,"\t"],[1,"    "],[0,"app.use(express."]],"start1":303,"start2":303,"length1":33,"length2":36},{"diffs":[[0,"verride());\n    "],[-1,"\t"],[1,"    "],[0,"app.use(express."]],"start1":346,"start2":346,"length1":33,"length2":36},{"diffs":[[0,"));\n    "],[-1,"\t"],[1,"    "],[0,"app.use("]],"start1":544,"start2":544,"length1":17,"length2":20},{"diffs":[[0,"r);\n    "],[-1,"\t"],[1,"    "],[0,"//app.en"]],"start1":573,"start2":573,"length1":17,"length2":20}]],"length":1209,"saved":false}
